<div class="bg-light min-vh-100 d-flex flex-row">
    <c-container>
        <c-row>
            <c-card>
                <c-card-body>
                    <h4 style="text-align: center;">Liste des reparations en cours</h4>
                    <br>
                    <table cTable>
                        <thead>
                        <tr>
                        <th scope="col">Modele</th>
                        <th scope="col">Marque</th>
                        <th scope="col">Numero</th>
                        <th scope="col">Type voiture</th>
                        <th scope="col">Date d√©position</th>
                        <th scope="col"></th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let vt of listeVt; index as i">
                                <th>{{ vt.modele }}</th>
                                <td>{{ vt.marque }}</td>
                                <td>{{ vt.numero }}</td>
                                <td>{{ vt.type_voiture }}</td>
                                <td>{{ vt.reparation.date_deposition }}</td>
                                <td>
                                  <button cButton color="info" size="sm" (click)="detail(i)">
                                    Avancement <svg cIcon name="cil-chevron-right"></svg> 
                                  </button>
                                </td>
                              </tr>
                        </tbody>
                        </table>
                        <c-pagination aria-label="Page navigation example"
                            *ngIf="count!==0"
                        >
                          <c-page-item
                            *ngFor="let n of nb; index as i">
                            <a
                              class="cursor"
                              cPageLink
                              >{{ i + 1 }}</a
                            >
                          </c-page-item>
                        </c-pagination>
                </c-card-body>
            </c-card>    
        </c-row>
    </c-container>
</div>

<c-modal
    #verticallyCenteredModal
    alignment="center"
    id="verticallyCenteredModal"
    [visible]="liveDemoVisible"
    (visibleChange)="handleLiveDemoChange($event)"
    size="lg"
  >
    <c-modal-header>
      <h5 cModalTitle>Avancement</h5>
    </c-modal-header>
    <c-modal-body>
        <c-row>
            <c-col md="3" xl="4" *ngFor="let lr of listeRep.liste_reparation; index as ii">
            <c-widget-stat-b>
            <c-progress class="my-1" thin>
                <c-progress-bar [value]="lr.avancement" color="warning"></c-progress-bar>
            </c-progress>
            <p>{{lr.reparation}} : {{lr.avancement}}%</p>
            <p><strong>{{lr.prix}} Ar</strong></p>
            </c-widget-stat-b>
            </c-col>
        </c-row>
    </c-modal-body>
    <c-modal-footer>
      <button
        [cModalToggle]="verticallyCenteredModal.id"
        cButton
        color="secondary"
      ><svg cIcon name="cil-arrow-circle-left"></svg> </button>
    </c-modal-footer>
  </c-modal>
